{% extends 'layouts/base.html' %}
{% load static %}
{% block title %}
  <title>Task Details</title>
{% endblock %}
{% block content %}
  <!-- [ Main Content ] start -->
  <!-- profile header start -->
  <div class="user-profile user-card mb-4">
    <div class="card-header border-0 p-0 pb-0">
      <img 
          src="{% static 'assets/images/gallery-grid/img-grd-gal-1.jpg' %}" 
          alt="" 
          class="img-fluid"
          style="width: 100%; height: 10rem; object-fit: cover"
      >
      <div class="overlay"></div>
    </div>
    <div class="card-body pt-0">
      <div class="user-about-block m-0">
        <div class="row">
          <div class="col-md-12 mt-md-4">
            <div class="d-flex align-items-center justify-content-between">
              <div class="col-md-4">
                <h4 class="mb-1">{{ task.name }}</h4>
                <p class="mb-2 text-muted">{{ task.task_type }}</p>
              </div>
              <a href="{% url 'task_manager:task-delete' pk=task.id %}"
                 class="btn btn-primary btn-sm rounded m-1 float-end">
                <i class="feather icon-delete"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- profile header end -->
  <!-- profile body start -->
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-body d-flex align-items-center justify-content-between">
          <h4 class="mb-0">Task details</h4>
          <a href="{% url 'task_manager:task-update' pk=task.id %}" class="btn btn-primary btn-sm rounded m-0 float-end">
            <i class="feather icon-edit"></i>
          </a>
        </div>
        <div class="card-body border-top pro-det-edit collapse show" id="pro-det-edit-1">
          <form>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Name</label>
              <div class="col-sm-9">
                {{ task.name }}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Task Type</label>
              <div class="col-sm-9">
                {{ task.task_type }}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Priority</label>
              <div class="col-sm-9">
                {{ task.get_priority_display }}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Deadline</label>
              <div class="col-sm-9">
                {{ task.deadline }}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Is Completed</label>
              <div class="col-sm-9">
                {{ task.is_completed }}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Description</label>
              <div class="col-sm-9">
                {{ task.description }}
              </div>
            </div>
            <div class="form-group row">
              <label class="col-sm-3 col-form-label fw-bold">Assignees</label>
              <div class="col-sm-9">
                {% for assignee in task.assignees.all %}
                  {{ assignee }}
                  <br>
                {% endfor %}
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- profile body end -->
  <!-- [ Main Content ] end -->
{% endblock content %}

